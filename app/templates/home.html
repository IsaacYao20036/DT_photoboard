{% extends 'layout.html' %}
{% block content %}

<div id="editMsg">
    {% if current_user.is_authenticated %}
        <h2>Welcome {{ current_user.username }}!</h2>
        <h2>You are now logged in and have administrator access.</h2>
        <h2>You now have access to <a href="/edit">edit here</a> to change the website's staff data.</h2>
        <h2>You also now have access to <a href="/register">register</a> new administrators.</h2>
        <br>
    {% endif %}
</div>

<!-- Dropdown code from W3Schools: https://www.w3schools.com/howto/howto_js_dropdown.asp -->
<div class="dropdown">
    <button onclick="toggleDropdown(principalDropdown)" class="dropbtn">Principal</button>
    <div id="principalDropdown" class="dropdown-content">
		{% for staffmember in staffmembers %}
            {% for position in staffmember.positions %}
                {% if position.group == "Principal" %}
                    <div class="profileCard">
                        <a href="/profile/{{ staffmember.code }}">
                            <img src="{{ staffmember.photo }}">
                            <p>{{ staffmember }} ({{ staffmember.code }})</p>
                            <p>{{ position }}</p>
                        </a>
                    </div>
                {% endif %}
            {% endfor %}
        {% endfor %}
    </div>
</div>

<br>
<br>

<div class="dropdown">
    <button onclick="toggleDropdown(leadershipTeamDropdown)" class="dropbtn">Leadership Team</button>
    <div id="leadershipTeamDropdown" class="dropdown-content">
		{% for staffmember in staffmembers %}
            {% for position in staffmember.positions %}
                {% if position.group == "Leadership Team" %}
                    <div class="profileCard">
                        <a href="/profile/{{ staffmember.code }}">
                            <img src="{{ staffmember.photo }}">
                            <p>{{ staffmember }} ({{ staffmember.code }})</p>
                            <p>{{ position }}</p>
                        </a>
                    </div>
                {% endif %}
            {% endfor %}
        {% endfor %}
    </div>
</div>

<br>
<br>

<div class="dropdown">
    <button onclick="toggleDropdown(deansDropdown)" class="dropbtn">Deans</button>
    <div id="deansDropdown" class="dropdown-content">
		{% for staffmember in staffmembers %}
            {% for position in staffmember.positions %}
                {% if position.group == "Deans" %}
                    <div class="profileCard">
                        <a href="/profile/{{ staffmember.code }}">
                            <img src="{{ staffmember.photo }}">
                            <p>{{ staffmember }} ({{ staffmember.code }})</p>
                            <p>{{ position }}</p>
                        </a>
                    </div>
                {% endif %}
            {% endfor %}
        {% endfor %}
    </div>
</div>

<br>
<br>

<div class="dropdown">
    <button onclick="toggleDropdown(counsellorsDropdown)" class="dropbtn">Counsellors</button>
    <div id="counsellorsDropdown" class="dropdown-content">
		{% for staffmember in staffmembers %}
            {% for position in staffmember.positions %}
                {% if position.group == "Counsellors" %}
                    <div class="profileCard">
                        <a href="/profile/{{ staffmember.code }}">
                            <img src="{{ staffmember.photo }}">
                            <p>{{ staffmember }} ({{ staffmember.code }})</p>
                            <p>{{ position }}</p>
                        </a>
                    </div>
                {% endif %}
            {% endfor %}
        {% endfor %}
    </div>
</div>

<br>
<br>

<h1>All School Staff</h1>
<br>
<div id="allSchoolStaff">
    {% for staffmember in staffmembers %}
        <div class="profileCard">
            <a href="/profile/{{ staffmember.code }}">
                <img src="{{ staffmember.photo }}">
                <p>{{ staffmember }} ({{ staffmember.code }})</p>
            </a>
        </div>
    {% endfor %}
</div>
{% endblock %}
